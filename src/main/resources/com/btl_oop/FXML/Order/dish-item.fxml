<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.text.Font?>

<VBox styleClass="dish-card" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.btl_oop.Controller.Order.DishItemController">
    <padding>
        <Insets top="15" right="15" bottom="15" left="15" />
    </padding>

    <HBox alignment="CENTER_LEFT" spacing="8">
        <Label fx:id="dishName" styleClass="dish-name" text="Buffalo Wings" wrapText="true" HBox.hgrow="ALWAYS">
            <font>
                <Font name="System Bold" size="15" />
            </font>
        </Label>

        <Label fx:id="popularTag" styleClass="popular-tag" text="âœ“ Popular" managed="false" visible="false">
            <font>
                <Font size="11" />
            </font>
        </Label>

        <Region HBox.hgrow="ALWAYS" />

        <Label fx:id="dishPrice" styleClass="dish-price" text="12.99">
            <font>
                <Font name="System Bold" size="16" />
            </font>
        </Label>
    </HBox>

    <Label fx:id="dishDescription" styleClass="dish-description" text="Crispy chicken wings tossed in buffalo sauce with celery and blue cheese" wrapText="true">
        <font>
            <Font size="13" />
        </font>
        <VBox.margin>
            <Insets top="5" />
        </VBox.margin>
    </Label>

    <HBox alignment="CENTER_LEFT" spacing="12" styleClass="info-row">
        <VBox.margin>
            <Insets top="8" />
        </VBox.margin>

        <HBox alignment="CENTER_LEFT" spacing="4" styleClass="info-item">
            <Label styleClass="info-icon" text="ðŸ•" />
            <Label fx:id="dishPrepareTime" styleClass="info-text" text="15min">
                <font>
                    <Font size="12" />
                </font>
            </Label>
        </HBox>

        <HBox fx:id="spicyBox" alignment="CENTER_LEFT" spacing="4" styleClass="info-item" managed="false" visible="false">
            <Label styleClass="info-icon" text="ðŸ”¥" />
            <Label fx:id="spicyLevel" styleClass="info-text" text="Medium">
                <font>
                    <Font size="12" />
                </font>
            </Label>
        </HBox>

        <HBox fx:id="allergyBox" alignment="CENTER_LEFT" spacing="4" styleClass="info-item" managed="false" visible="false">
            <Label styleClass="info-icon" text="âš " />
            <Label fx:id="allergyInfo" styleClass="info-text" text="dairy">
                <font>
                    <Font size="12" />
                </font>
            </Label>
        </HBox>
    </HBox>

    <Region VBox.vgrow="ALWAYS" minHeight="10" />

    <!-- Add Button (Default State) -->
    <HBox fx:id="addBox" alignment="CENTER">
        <VBox.margin>
            <Insets top="5" />
        </VBox.margin>
        <Button fx:id="addButton" onAction="#onAddToOrder" styleClass="add-to-order-button" text="+ Add to Order" maxWidth="Infinity" HBox.hgrow="ALWAYS">
            <font>
                <Font name="System Bold" size="13" />
            </font>
        </Button>
    </HBox>

    <HBox fx:id="quantityBox" alignment="CENTER" spacing="15" managed="false" visible="false" styleClass="quantity-controls">
        <VBox.margin>
            <Insets top="5" />
        </VBox.margin>

        <Button onAction="#decreaseQuantity" styleClass="quantity-btn-minus" text="âˆ’">
            <font>
                <Font size="16" />
            </font>
        </Button>

        <VBox alignment="CENTER" HBox.hgrow="ALWAYS">
            <Label fx:id="quantityLabel" styleClass="quantity-number" text="1">
                <font>
                    <Font name="System Bold" size="16" />
                </font>
            </Label>
            <Label fx:id="quantityPrice" styleClass="quantity-price" text="12.99">
                <font>
                    <Font size="12" />
                </font>
            </Label>
        </VBox>

        <Button onAction="#increaseQuantity" styleClass="quantity-btn-plus" text="+">
            <font>
                <Font size="16" />
            </font>
        </Button>
    </HBox>

    <HBox fx:id="confirmBox" alignment="CENTER" managed="false" visible="false">
        <VBox.margin>
            <Insets top="8" />
        </VBox.margin>
        <Button onAction="#confirmQuantity" styleClass="confirm-button" text="âœ“ Confirm" maxWidth="Infinity" HBox.hgrow="ALWAYS">
            <font>
                <Font name="System Bold" size="13" />
            </font>
        </Button>
    </HBox>
</VBox>