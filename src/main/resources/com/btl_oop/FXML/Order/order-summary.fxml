<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="900.0" prefWidth="250.0" styleClass="order-summary-container" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.btl_oop.Controller.Waiter.OrderSummaryController">

    <HBox alignment="TOP_RIGHT" layoutX="0" layoutY="0" prefWidth="250" styleClass="summary-header-box" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
        <padding>
            <Insets bottom="15" left="20" right="20" top="15" />
        </padding>

        <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
            <Label styleClass="summary-title" text="Order Summary">
                <font>
                    <Font name="System Bold" size="16" />
                </font>
            </Label>

            <!-- ✅ THÊM TEXTFIELD ĐỂ NHẬP TABLE NUMBER -->
            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label styleClass="summary-table" text="Table:">
                    <font>
                        <Font size="13" />
                    </font>
                </Label>
                <TextField fx:id="tableNumberField" prefWidth="60" promptText="Enter table" styleClass="table-input">
                    <font>
                        <Font size="12" />
                    </font>
                </TextField>
            </HBox>
        </VBox>



        <Button fx:id="clearAllButton" onAction="#clearAll" styleClass="clear-all-button" text="Clear All">
            <font>
                <Font size="12" />
            </font>
        </Button>
        <ImageView fx:id="closeButton" fitHeight="20.0" fitWidth="20.0" onMouseClicked="#closeSummary" pickOnBounds="true" preserveRatio="true" styleClass="close-icon">
            <image>
                <Image url="@../../img/ic_item/ic_close.png" />
            </image>
         <HBox.margin>
            <Insets />
         </HBox.margin>
        </ImageView>
    </HBox>

    <Region layoutX="0" layoutY="70" prefHeight="1" prefWidth="250" styleClass="summary-divider" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="70" />

    <ScrollPane fitToWidth="true" layoutX="0" layoutY="71" prefWidth="250" styleClass="order-items-scroll" AnchorPane.bottomAnchor="200" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="71">
        <VBox fx:id="orderItemsList" spacing="15" styleClass="order-items-container">
            <padding>
                <Insets bottom="15" left="20" right="15" top="15" />
            </padding>
        </VBox>
    </ScrollPane>

    <VBox layoutX="0" prefWidth="250" styleClass="summary-footer-box" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
        <padding>
            <Insets bottom="20" left="20" right="20" top="15" />
        </padding>

        <Region styleClass="summary-divider">
            <VBox.margin>
                <Insets bottom="15" />
            </VBox.margin>
        </Region>

        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label styleClass="summary-label" text="Subtotal:" HBox.hgrow="ALWAYS">
                <font>
                    <Font size="14" />
                </font>
            </Label>
            <Label fx:id="subtotalLabel" styleClass="summary-value" text="0.00">
                <font>
                    <Font size="14" />
                </font>
            </Label>
        </HBox>

        <HBox alignment="CENTER_LEFT" spacing="10">
            <VBox.margin>
                <Insets top="8" />
            </VBox.margin>
            <Label styleClass="summary-label" text="Tax (10%):" HBox.hgrow="ALWAYS">
                <font>
                    <Font size="14" />
                </font>
            </Label>
            <Label fx:id="taxLabel" styleClass="summary-value" text="0.00">
                <font>
                    <Font size="14" />
                </font>
            </Label>
        </HBox>

        <HBox alignment="CENTER_LEFT" spacing="10">
            <VBox.margin>
                <Insets bottom="15" top="12" />
            </VBox.margin>
            <Label styleClass="summary-label-bold" text="Total:" HBox.hgrow="ALWAYS">
                <font>
                    <Font name="System Bold" size="15" />
                </font>
            </Label>
            <Label fx:id="totalLabel" styleClass="summary-total" text="0.00">
                <font>
                    <Font name="System Bold" size="16" />
                </font>
            </Label>
        </HBox>

        <Button fx:id="reviewOrderButton" maxWidth="Infinity" onAction="#confirmOrder" styleClass="review-order-button" text="Review Order">
            <font>
                <Font name="System Bold" size="13" />
            </font>
        </Button>
    </VBox>

</AnchorPane>
