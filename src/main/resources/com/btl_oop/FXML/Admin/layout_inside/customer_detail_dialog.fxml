<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<VBox xmlns="http://javafx.com/javafx/24.0.1"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.btl_oop.Controller.Admin.ComponentController.CustomerDetailDialogController"
      stylesheets="@../../../css/Admin/customer_detail.css"
      styleClass="dialog-root"
      prefWidth="600"
      prefHeight="700">

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" styleClass="dialog-header">
        <padding>
            <Insets top="20" right="25" bottom="20" left="25" />
        </padding>
        <children>
            <Label text="Customer Details" styleClass="dialog-title" />
            <Region HBox.hgrow="ALWAYS" />
            <Button text="âœ•" styleClass="close-button" onAction="#handleClose" />
        </children>
    </HBox>

    <!-- Content -->
    <ScrollPane fitToWidth="true" styleClass="dialog-content-scroll" VBox.vgrow="ALWAYS">
        <content>
            <VBox spacing="25">
                <padding>
                    <Insets top="25" right="30" bottom="30" left="30" />
                </padding>

                <!-- Details Card -->
                <VBox styleClass="details-card" spacing="25">
                    <children>
                        <!-- Header: Details label -->
                        <Label text="Details" styleClass="section-title" />

                        <!-- Profile Section -->
                        <HBox alignment="CENTER_LEFT" spacing="20">
                            <children>
                                <!-- Avatar -->
                                <VBox alignment="CENTER" spacing="10">
                                    <children>
                                        <Circle radius="45" styleClass="avatar-circle" fx:id="avatarCircle">
                                            <fill>
                                                <javafx.scene.paint.Color fx:constant="LIGHTGRAY" />
                                            </fill>
                                        </Circle>
                                    </children>
                                </VBox>

                                <!-- Name & Status -->
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <children>
                                        <HBox spacing="12" alignment="CENTER_LEFT">
                                            <children>
                                                <Label fx:id="customerNameLabel" text="Jane Cooper" styleClass="customer-name" />
                                                <Label fx:id="statusBadge" text="Active" styleClass="status-badge active" />
                                            </children>
                                        </HBox>
                                        <Label fx:id="customerEmailLabel" text="janecooper@gmail.com" styleClass="customer-email" />
                                    </children>
                                </VBox>

                                <!-- Edit Button -->
                                <Button fx:id="editButton" text="Edit" styleClass="edit-button" onAction="#handleEdit" />
                            </children>
                        </HBox>

                        <!-- Form Fields -->
                        <VBox spacing="20">
                            <children>
                                <!-- Full Name & Nick Name Row -->
                                <HBox spacing="20">
                                    <children>
                                        <!-- Full Name -->
                                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                                            <children>
                                                <Label text="Full Name" styleClass="field-label" />
                                                <TextField fx:id="fullNameField"
                                                           promptText="Full Name"
                                                           styleClass="custom-text-field"
                                                           editable="false" />
                                            </children>
                                        </VBox>

                                        <!-- Nick Name -->
                                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                                            <children>
                                                <Label text="Nick Name" styleClass="field-label" />
                                                <TextField fx:id="nickNameField"
                                                           promptText="Nick Name"
                                                           styleClass="custom-text-field"
                                                           editable="false" />
                                            </children>
                                        </VBox>
                                    </children>
                                </HBox>

                                <!-- Gender -->
                                <VBox spacing="8">
                                    <children>
                                        <Label text="Gender" styleClass="field-label" />
                                        <TextField fx:id="genderField"
                                                   promptText="Gender"
                                                   styleClass="custom-text-field"
                                                   editable="false" />
                                    </children>
                                </VBox>

                                <!-- Language -->
                                <VBox spacing="8">
                                    <children>
                                        <Label text="Language" styleClass="field-label" />
                                        <TextField fx:id="languageField"
                                                   promptText="Language"
                                                   styleClass="custom-text-field"
                                                   editable="false" />
                                    </children>
                                </VBox>
                            </children>
                        </VBox>

                        <!-- Email Address Section -->
                        <VBox spacing="15">
                            <children>
                                <Label text="My email Address" styleClass="section-subtitle" />

                                <!-- Email Item -->
                                <HBox alignment="CENTER_LEFT" spacing="15" styleClass="email-item">
                                    <children>
                                        <ImageView fitHeight="24" fitWidth="24" styleClass="email-icon">
                                            <image>
                                                <Image url="@../../../img/ic_item/ic_home.png" />
                                            </image>
                                        </ImageView>

                                        <VBox spacing="2" HBox.hgrow="ALWAYS">
                                            <children>
                                                <Label fx:id="emailAddressLabel" text="email@example.com" styleClass="email-address" />
                                                <Label fx:id="emailTimeLabel" text="1 month ago" styleClass="email-time" />
                                            </children>
                                        </VBox>
                                    </children>
                                </HBox>

                                <!-- Add Email Address Button -->
                                <Button text="+ Add Email Address" styleClass="add-email-button" onAction="#handleAddEmail" />
                            </children>
                        </VBox>
                    </children>
                </VBox>
            </VBox>
        </content>
    </ScrollPane>

    <!-- Footer Buttons -->
    <HBox spacing="15" alignment="CENTER_RIGHT" styleClass="dialog-footer">
        <padding>
            <Insets top="15" right="25" bottom="20" left="25" />
        </padding>
        <children>
            <Button text="Cancel" styleClass="cancel-button" onAction="#handleClose" />
            <Button fx:id="saveButton" text="Save Changes" styleClass="save-button" onAction="#handleSave" visible="false" />
        </children>
    </HBox>
</VBox>